import{v as m,V as A,_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-C95gl-vp.js";import{_}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bc2FUxRI.js";import{_ as K,a as O,b as Q,d as R,c as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-CrDShhRO.js";import{_ as Y}from"./index-DGhpsKsO.js";import{d as X,c as ee,a as u,o as a,e as i,u as s,h as te,w as n,b as r,i as g,l as p,f as l,F as k,r as F,g as v,t as d,A as se}from"./app-ZwxVz8fK.js";import{d as oe}from"./index-CwYsXsqK.js";import{P as I,S as re}from"./square-pen-DmlVUuCZ.js";import{P as ie}from"./play-Bjv4gLVa.js";import{E as ne}from"./eye-BSbmx5sO.js";import"./useForwardExpose-CpiEZE3t.js";import"./VisuallyHidden-BSpMzYLY.js";import"./RovingFocusGroup-6s-SpxoV.js";import"./useArrowNavigation-B5rxJs06.js";import"./createLucideIcon-Cpl7NutW.js";const ae={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6"},le={class:"flex items-center justify-between"},ue={key:0,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},de={class:"aspect-video bg-muted relative"},fe=["src","alt"],ce={key:1,class:"flex h-full w-full items-center justify-center"},pe={class:"absolute top-2 right-2"},ge={key:2,class:"absolute bottom-2 right-2"},me={class:"flex items-center justify-between text-sm text-muted-foreground"},be={class:"flex items-center justify-between text-sm text-muted-foreground"},ve={class:"flex gap-2"},he={key:1,class:"flex items-center justify-between text-sm text-muted-foreground"},_e={key:2,class:"flex justify-center"},ye={class:"flex items-center space-x-1"},we={key:1,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background h-10 px-4 py-2 opacity-50 cursor-not-allowed"},ke={key:3,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium h-10 w-10"},xe={key:4,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium h-10 w-10"},je={key:7,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background h-10 px-4 py-2 opacity-50 cursor-not-allowed"},$e={key:3,class:"text-center py-12"},Ie=X({__name:"Index",props:{videos:{}},setup(Z){const L=[{title:"Dashboard",href:oe.url()},{title:"Videos",href:m.index.url()}],w=Z,U=e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const f of t){const c=e.match(f);if(c)return c[1]}return null},q=e=>{const t=U(e);return t?`https://img.youtube.com/vi/${t}/maxresdefault.jpg`:null},x=e=>{if(!e)return"Unknown";const t=Math.floor(e/3600),f=Math.floor(e%3600/60),c=Math.floor(e%60);return t>0?`${t}:${f.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`:`${f}:${c.toString().padStart(2,"0")}`},G=e=>{const t=e.target;t.style.display="none"},H=ee(()=>{var h;if(!((h=w.videos)!=null&&h.current_page))return[];const e=w.videos.current_page,t=w.videos.last_page,f=[],c=Math.max(1,e-2),y=Math.min(t,e+2);for(let b=c;b<=y;b++)f.push(b);return f});return(e,t)=>(a(),u(k,null,[i(s(te),{title:"My Videos"}),i(J,{breadcrumbs:L},{default:n(()=>{var f,c,y,h,b,j,$,P,M,V,C,S,B,N,z,D,E;return[r("div",ae,[r("div",le,[t[1]||(t[1]=r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"My Videos"),r("p",{class:"text-muted-foreground"}," Manage your interactive videos ")],-1)),i(s(p),{href:s(m).create.url()},{default:n(()=>[i(s(_),{class:"gap-2"},{default:n(()=>[i(s(I),{class:"h-4 w-4"}),t[0]||(t[0]=l(" Create Video ",-1))]),_:1,__:[0]})]),_:1},8,["href"])]),(c=(f=e.videos)==null?void 0:f.data)!=null&&c.length?(a(),u("div",ue,[(a(!0),u(k,null,F((y=e.videos)==null?void 0:y.data,o=>(a(),v(s(K),{key:o.id,class:"overflow-hidden"},{default:n(()=>[r("div",de,[o.thumbnail_url||o.source_type==="youtube"&&o.source_url?(a(),u("img",{key:0,src:o.thumbnail_url||q(o.source_url)||"",alt:o.title,class:"h-full w-full object-cover",onError:G},null,40,fe)):(a(),u("div",ce,[i(s(A),{class:"h-8 w-8 text-muted-foreground"})])),r("div",pe,[i(s(Y),{variant:o.is_published?"default":"secondary"},{default:n(()=>[l(d(o.is_published?"Published":"Draft"),1)]),_:2},1032,["variant"])]),o.duration?(a(),u("div",ge,[i(s(Y),{variant:"secondary",class:"bg-black bg-opacity-75 text-white"},{default:n(()=>[l(d(x(o.duration)),1)]),_:2},1024)])):g("",!0)]),i(s(O),null,{default:n(()=>[i(s(Q),{class:"line-clamp-1"},{default:n(()=>[l(d(o.title),1)]),_:2},1024),i(s(R),{class:"line-clamp-2"},{default:n(()=>[l(d(o.description||"No description"),1)]),_:2},1024)]),_:2},1024),i(s(W),{class:"space-y-4"},{default:n(()=>[r("div",me,[r("span",null,d(o.source_type==="youtube"?"YouTube":"Upload"),1),r("span",null,d(x(o.duration)),1)]),r("div",be,[t[2]||(t[2]=r("span",null,"Created",-1)),r("span",null,d(new Date(o.created_at).toLocaleDateString()),1)]),r("div",ve,[i(s(p),{href:s(m).edit.url({video:o.id}),class:"flex-1"},{default:n(()=>[i(s(_),{variant:"outline",size:"sm",class:"w-full gap-2"},{default:n(()=>[i(s(re),{class:"h-3 w-3"}),t[3]||(t[3]=l(" Edit ",-1))]),_:1,__:[3]})]),_:2},1032,["href"]),i(s(p),{href:s(m).preview.url({video:o.id})},{default:n(()=>[i(s(_),{variant:"outline",size:"sm",class:"gap-2"},{default:n(()=>[i(s(ie),{class:"h-3 w-3"}),t[4]||(t[4]=l(" Preview ",-1))]),_:1,__:[4]})]),_:2},1032,["href"]),i(s(p),{href:s(m).show.url({video:o.id})},{default:n(()=>[i(s(_),{variant:"outline",size:"sm"},{default:n(()=>[i(s(ne),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"])])]),_:2},1024)]),_:2},1024))),128))])):g("",!0),(b=(h=e.videos)==null?void 0:h.data)!=null&&b.length&&((j=e.videos)==null?void 0:j.last_page)>1?(a(),u("div",he,[r("div",null," Showing "+d(e.videos.from)+" to "+d(e.videos.to)+" of "+d(e.videos.total)+" videos ",1),r("div",null," Page "+d(e.videos.current_page)+" of "+d(e.videos.last_page),1)])):g("",!0),(P=($=e.videos)==null?void 0:$.data)!=null&&P.length&&((M=e.videos)==null?void 0:M.last_page)>1?(a(),u("div",_e,[r("nav",ye,[e.videos.prev_page_url?(a(),v(s(p),{key:0,href:e.videos.prev_page_url,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"},{default:n(()=>t[5]||(t[5]=[r("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),l(" Previous ",-1)])),_:1,__:[5]},8,["href"])):(a(),u("span",we,t[6]||(t[6]=[r("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),l(" Previous ",-1)]))),((V=e.videos)==null?void 0:V.current_page)>3?(a(),v(s(p),{key:2,href:e.videos.first_page_url,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10"},{default:n(()=>t[7]||(t[7]=[l(" 1 ",-1)])),_:1,__:[7]},8,["href"])):g("",!0),((C=e.videos)==null?void 0:C.current_page)>4?(a(),u("span",ke," ... ")):g("",!0),(a(!0),u(k,null,F(H.value,o=>{var T;return a(),v(s(p),{key:o,href:s(m).index.url()+`?page=${o}`,class:se(["inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 w-10",o===((T=e.videos)==null?void 0:T.current_page)?"bg-primary text-primary-foreground hover:bg-primary/90":"border border-input bg-background hover:bg-accent hover:text-accent-foreground"])},{default:n(()=>[l(d(o),1)]),_:2},1032,["href","class"])}),128)),((S=e.videos)==null?void 0:S.current_page)<((B=e.videos)==null?void 0:B.last_page)-3?(a(),u("span",xe," ... ")):g("",!0),((N=e.videos)==null?void 0:N.current_page)<((z=e.videos)==null?void 0:z.last_page)-2?(a(),v(s(p),{key:5,href:e.videos.last_page_url,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10"},{default:n(()=>{var o;return[l(d((o=e.videos)==null?void 0:o.last_page),1)]}),_:1},8,["href"])):g("",!0),e.videos.next_page_url?(a(),v(s(p),{key:6,href:e.videos.next_page_url,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"},{default:n(()=>t[8]||(t[8]=[l(" Next ",-1),r("svg",{class:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1,__:[8]},8,["href"])):(a(),u("span",je,t[9]||(t[9]=[l(" Next ",-1),r("svg",{class:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])))])])):(E=(D=e.videos)==null?void 0:D.data)!=null&&E.length?g("",!0):(a(),u("div",$e,[i(s(A),{class:"mx-auto h-12 w-12 text-muted-foreground"}),t[11]||(t[11]=r("h3",{class:"mt-4 text-lg font-semibold"},"No videos yet",-1)),t[12]||(t[12]=r("p",{class:"text-muted-foreground"},"Get started by creating your first interactive video",-1)),i(s(p),{href:s(m).create.url(),class:"mt-4 inline-block"},{default:n(()=>[i(s(_),{class:"gap-2"},{default:n(()=>[i(s(I),{class:"h-4 w-4"}),t[10]||(t[10]=l(" Create Your First Video ",-1))]),_:1,__:[10]})]),_:1},8,["href"])]))])]}),_:1})],64))}});export{Ie as default};
