var m=r=>{throw TypeError(r)};var v=(r,n,i)=>n.has(r)||m("Cannot "+i);var d=(r,n,i)=>(v(r,n,"read from private field"),i?i.call(r):n.get(r)),$=(r,n,i)=>n.has(r)?m("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,i);import{t as I,d as z}from"./useForwardExpose-CpiEZE3t.js";import{c as h,d as A,E as S,K as j,g as w,o as F,w as b,e as B,u as y,q as O,G as C}from"./app-ZwxVz8fK.js";import{i as T,u as E,a as K,g as q,w as R,f as U}from"./RovingFocusGroup-6s-SpxoV.js";import{P as x}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bc2FUxRI.js";function g(r){return typeof r=="string"?`'${r}'`:new k().serialize(r)}const k=function(){var n;class r{constructor(){$(this,n,new Map)}compare(e,t){const o=typeof e,s=typeof t;return o==="string"&&s==="string"?e.localeCompare(t):o==="number"&&s==="number"?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(e===null)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if(t!=="[object Object]")return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const o=e.constructor,s=o===Object||o===void 0?"":o.name;if(s!==""&&globalThis[s]===o)return this.serializeBuiltInType(s,e);if(typeof e.toJSON=="function"){const l=e.toJSON();return s+(l!==null&&typeof l=="object"?this.$object(l):`(${this.serialize(l)})`)}return this.serializeObjectEntries(s,Object.entries(e))}serializeBuiltInType(e,t){const o=this["$"+e];if(o)return o.call(this,t);if(typeof(t==null?void 0:t.entries)=="function")return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const o=Array.from(t).sort((l,p)=>this.compare(l[0],p[0]));let s=`${e}{`;for(let l=0;l<o.length;l++){const[p,a]=o[l];s+=`${this.serialize(p,!0)}:${this.serialize(a)}`,l<o.length-1&&(s+=",")}return s+"}"}$object(e){let t=d(this,n).get(e);return t===void 0&&(d(this,n).set(e,`#${d(this,n).size}`),t=this.serializeObject(e),d(this,n).set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return t.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let o=0;o<e.length;o++)t+=this.serialize(e[o]),o<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((t,o)=>this.compare(t,o)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}n=new WeakMap;for(const i of["Error","RegExp","URL"])r.prototype["$"+i]=function(e){return`${i}(${e})`};for(const i of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])r.prototype["$"+i]=function(e){return`${i}[${e.join(",")}]`};for(const i of["BigInt64Array","BigUint64Array"])r.prototype["$"+i]=function(e){return`${i}[${e.join("n,")}${e.length>0?"n":""}]`};return r}();function P(r,n){return r===n||g(r)===g(n)}function V(r){return h(()=>{var n;return I(r)?!!((n=z(r))!=null&&n.closest("form")):!0})}var D=A({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const n=r,i=T(),e=E(),t=h(()=>n.tabStopId||e),o=h(()=>i.currentTabStopId.value===t.value),{getItems:s,CollectionItem:l}=K();S(()=>{n.focusable&&i.onFocusableItemAdd()}),j(()=>{n.focusable&&i.onFocusableItemRemove()});function p(a){if(a.key==="Tab"&&a.shiftKey){i.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const u=q(a,i.orientation.value,i.dir.value);if(u!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||!n.allowShiftKey&&a.shiftKey)return;a.preventDefault();let c=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(u==="last")c.reverse();else if(u==="prev"||u==="next"){u==="prev"&&c.reverse();const f=c.indexOf(a.currentTarget);c=i.loop.value?R(c,f+1):c.slice(f+1)}C(()=>U(c))}}return(a,u)=>(F(),w(y(l),null,{default:b(()=>[B(y(x),{tabindex:o.value?0:-1,"data-orientation":y(i).orientation.value,"data-active":a.active?"":void 0,"data-disabled":a.focusable?void 0:"",as:a.as,"as-child":a.asChild,onMousedown:u[0]||(u[0]=c=>{a.focusable?y(i).onItemFocus(t.value):c.preventDefault()}),onFocus:u[1]||(u[1]=c=>y(i).onItemFocus(t.value)),onKeydown:p},{default:b(()=>[O(a.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),L=D;export{L as R,P as i,V as u};
